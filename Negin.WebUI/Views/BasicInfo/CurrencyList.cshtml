@{
    ViewData["Title"] = Model.PageInfo.Title;
}
@inject IUrlHelper UrlHelper;
@model PagedData<Currency>

<div class="card">
    <!--begin::Card header-->
    <div class="card-header border-0 pt-6" data-select2-id="select2-data-132-bv4b">
        <!--begin::Card title-->
        <div class="card-title">
            <!--begin::Search-->
           @* <div class="d-flex align-items-center position-relative my-1">
                <!--begin::Svg Icon | path: icons/duotune/general/gen021.svg-->
                <span class="svg-icon svg-icon-1 position-absolute ms-6">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect opacity="0.5" x="17.0365" y="15.1223" width="8.15546" height="2" rx="1" transform="rotate(45 17.0365 15.1223)" fill="currentColor"></rect>
                        <path d="M11 19C6.55556 19 3 15.4444 3 11C3 6.55556 6.55556 3 11 3C15.4444 3 19 6.55556 19 11C19 15.4444 15.4444 19 11 19ZM11 5C7.53333 5 5 7.53333 5 11C5 14.4667 7.53333 17 11 17C14.4667 17 17 14.4667 17 11C17 7.53333 14.4667 5 11 5Z" fill="currentColor"></path>
                    </svg>
                </span>
                <!--end::Svg Icon-->
                <input type="text" id="search" class="form-control form-control-solid w-250px ps-14" placeholder="Search Date" value="@Model.PageInfo.Filter">
            </div>*@
            <!--end::Search-->
        </div>
        <!--begin::Card title-->
        <!--begin::Card toolbar-->
        <div class="card-toolbar">
            <!--begin::Toolbar-->
            <div class="d-flex justify-content-end" data-kt-user-table-toolbar="base" data-select2-id="select2-data-149-liu2">
                <!--begin::Filter-->
                <button style="display:none" type="button" class="btn btn-light-primary me-3" data-kt-menu-trigger="click" data-kt-menu-placement="bottom-end">
                    <!--begin::Svg Icon | path: icons/duotune/general/gen031.svg-->
                    <span class="svg-icon svg-icon-2">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M19.0759 3H4.72777C3.95892 3 3.47768 3.83148 3.86067 4.49814L8.56967 12.6949C9.17923 13.7559 9.5 14.9582 9.5 16.1819V19.5072C9.5 20.2189 10.2223 20.7028 10.8805 20.432L13.8805 19.1977C14.2553 19.0435 14.5 18.6783 14.5 18.273V13.8372C14.5 12.8089 14.8171 11.8056 15.408 10.964L19.8943 4.57465C20.3596 3.912 19.8856 3 19.0759 3Z" fill="currentColor"></path>
                        </svg>
                    </span>
                    <!--end::Svg Icon-->Filter
                </button>
                <div class="menu menu-sub menu-sub-dropdown w-300px w-md-325px" data-kt-menu="true">
                    <!--begin::Header-->
                    <div class="px-7 py-5">
                        <div class="fs-5 text-dark fw-bold">Filter Options</div>
                    </div>
                    <!--end::Header-->
                    <!--begin::Separator-->
                    <div class="separator border-gray-200"></div>
                    <!--end::Separator-->
                    <!--begin::Content-->
                    <div class="px-7 py-5" data-kt-user-table-filter="form">
                        <!--begin::Input group-->
                        <div class="mb-10">
                            <label class="form-label fs-6 fw-semibold">Role:</label>
                            <select class="form-select form-select-solid fw-bold select2-hidden-accessible" data-kt-select2="true" data-placeholder="Select option" data-allow-clear="true" data-kt-user-table-filter="role" data-hide-search="true" data-select2-id="select2-data-10-oy04" tabindex="-1" aria-hidden="true" data-kt-initialized="1">
                                <option data-select2-id="select2-data-12-u466"></option>
                                <option value="Administrator">Administrator</option>
                                <option value="Analyst">Analyst</option>
                                <option value="Developer">Developer</option>
                                <option value="Support">Support</option>
                                <option value="Trial">Trial</option>
                            </select><span class="select2 select2-container select2-container--bootstrap5" dir="ltr" data-select2-id="select2-data-11-98z7" style="width: 100%;"><span class="selection"><span class="select2-selection select2-selection--single form-select form-select-solid fw-bold" role="combobox" aria-haspopup="true" aria-expanded="false" tabindex="0" aria-disabled="false" aria-labelledby="select2-dnwj-container" aria-controls="select2-dnwj-container"><span class="select2-selection__rendered" id="select2-dnwj-container" role="textbox" aria-readonly="true" title="Select option"><span class="select2-selection__placeholder">Select option</span></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span></span></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>
                        </div>
                        <!--end::Input group-->
                        <!--begin::Input group-->
                        <div class="mb-10">
                            <label class="form-label fs-6 fw-semibold">Two Step Verification:</label>
                            <select class="form-select form-select-solid fw-bold select2-hidden-accessible" data-kt-select2="true" data-placeholder="Select option" data-allow-clear="true" data-kt-user-table-filter="two-step" data-hide-search="true" data-select2-id="select2-data-13-8pgp" tabindex="-1" aria-hidden="true" data-kt-initialized="1">
                                <option data-select2-id="select2-data-15-o86c"></option>
                                <option value="Enabled">Enabled</option>
                            </select><span class="select2 select2-container select2-container--bootstrap5" dir="ltr" data-select2-id="select2-data-14-m6nz" style="width: 100%;"><span class="selection"><span class="select2-selection select2-selection--single form-select form-select-solid fw-bold" role="combobox" aria-haspopup="true" aria-expanded="false" tabindex="0" aria-disabled="false" aria-labelledby="select2-utfg-container" aria-controls="select2-utfg-container"><span class="select2-selection__rendered" id="select2-utfg-container" role="textbox" aria-readonly="true" title="Select option"><span class="select2-selection__placeholder">Select option</span></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span></span></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>
                        </div>
                        <!--end::Input group-->
                        <!--begin::Actions-->
                        <div class="d-flex justify-content-end">
                            <button type="reset" class="btn btn-light btn-active-light-primary fw-semibold me-2 px-6" data-kt-menu-dismiss="true" data-kt-user-table-filter="reset">Reset</button>
                            <button type="submit" class="btn btn-primary fw-semibold px-6" data-kt-menu-dismiss="true" data-kt-user-table-filter="filter">Apply</button>
                        </div>
                        <!--end::Actions-->
                    </div>
                    <!--end::Content-->
                </div>
                <!--end::Filter-->
                <!--begin::Add Voyage-->
                <a type="button" class="btn btn-primary" href="/BasicInfo/CreateCurrency">
                    <!--begin::Svg Icon | path: icons/duotune/arrows/arr075.svg-->
                    <span class="svg-icon svg-icon-2">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect opacity="0.5" x="11.364" y="20.364" width="16" height="2" rx="1" transform="rotate(-90 11.364 20.364)" fill="currentColor"></rect>
                            <rect x="4.36396" y="11.364" width="16" height="2" rx="1" fill="currentColor"></rect>
                        </svg>
                    </span>
                    <!--end::Svg Icon-->Create New Currency Rate
                </a>
                <!--end::Add Voyage-->
            </div>
            <!--end::Toolbar-->
            <!--begin::Group actions-->
            <div style="display:none" class="d-flex justify-content-end align-items-center d-none" data-kt-user-table-toolbar="selected">
                <div class="fw-bold me-5">
                    <span class="me-2" data-kt-user-table-select="selected_count"></span>Selected
                </div>
                <button type="button" class="btn btn-danger" data-kt-user-table-select="delete_selected">DeActive Selected</button>
            </div>
            <!--end::Group actions-->
        </div>
        <!--end::Card toolbar-->
    </div>
    <!--end::Card header-->
    <!--begin::Card body-->
    <div class="card-body py-4">
        <!--begin::Table-->
        <div class="dataTables_wrapper dt-bootstrap4 no-footer">
            <div class="table-responsive">
                <table class="table align-middle table-row-dashed fs-6 gy-5 dataTable no-footer" id="kt_datatable_responsive" data-paging="false" data-info="false">
                    <!--begin::Table head-->
                    <thead>
                        <!--begin::Table row-->
                        <tr class="text-start fw-bold fs-7 text-uppercase gs-0">
                            <th class="min-w-100px" data-priority="1">Foreign Doller Rate</th>
                            <th class="min-w-100px">Persian Doller Rate</th>
                            <th class="min-w-150px">Date</th>
                        </tr>
                        <!--end::Table row-->
                    </thead>
                    <!--end::Table head-->
                    <!--begin::Table body-->
                    <tbody class="text-gray-600 fw-semibold">
                        @foreach (Currency currency in Model.Data)
                        {
                            <tr>
                                <!--begin::ForeignDollerRate-->
                                <td>
                                    @currency.ForeignDollerRate Rial
                                    <input type="hidden" class="id" asp-for="@currency.Id" />
                                </td>
                                <!--end::ForeignDollerRate-->
                                <!--begin::PersianDollerRate=-->
                                <td>
                                    @currency.PersianDollerRate Rial
                                </td>
                                <!--end::PersianDollerRate=-->
                                <!--begin::Date=-->
                                <td class="fw-bold text-black">
                                    @currency.Date.MiladiToShamsiDateString()
                                </td>
                                <!--end::Date=-->
                            </tr>

                        }
                    </tbody>
                    <!--end::Table body-->
                </table>
                <ul class="pagination">
                    <li id="previous" class="page-item previous"><a href="@UrlHelper.Action("CurrencyList", new { pageNumber = Model.PageInfo.PageNumber-1 })" class="page-link"><i class="previous"></i></a></li>
                    @for (int i = 1; i <= Model.PageInfo.PageCount; i++)
                    {

                        <li class="page-item @(i == Model.PageInfo.PageNumber ? "active" : "")">
                            <a class="page-link " href="@UrlHelper.Action("CurrencyList", new { pageNumber = i })">@i</a>
                        </li>

                    }
                    <li id="next" class="page-item next"><a href="@UrlHelper.Action("CurrencyList", new { pageNumber = Model.PageInfo.PageNumber+1 })" class="page-link"><i class="next"></i></a></li>
                </ul>
            </div>
        </div>
        <!--end::Table-->
    </div>
    <!--end::Card body-->
</div>


@section Scripts{
@*    <script src="~/assets/plugins/custom/datatables/datatables.bundle.js"></script>
*@    <script type="text/javascript">
        $(document).ready(function () {
            $('#kt_datatable_responsive').DataTable();

            if (@Model.PageInfo.PageNumber >= @Model.PageInfo.PageCount) {
                $('#next').addClass("disabled")
            }
            if (@Model.PageInfo.PageNumber <= 1) {
                $('#previous').addClass("disabled")
            }

        })
    </script>

}

@section Links{
    <link href="~/assets/plugins/custom/datatables/datatables.bundle.css" rel="stylesheet" />
}

