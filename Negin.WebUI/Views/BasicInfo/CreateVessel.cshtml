@{
    ViewData["Title"] = "Create Vessel";
}
@model Negin.WebUI.Models.ViewModels.VesselViewModel

<div class="card mb-5 mb-xl-10">
	<!--begin::Card header-->
	<div class="card-header border-0 cursor-pointer" role="button" data-bs-toggle="collapse" data-bs-target="#kt_account_profile_details" aria-expanded="true" aria-controls="kt_account_profile_details">
		<!--begin::Card title-->
		<div class="card-title m-0">
			<h3 class="fw-bold m-0">@ViewData["Title"]</h3>
		</div>
		<!--end::Card title-->
	</div>
	<!--begin::Card header-->
	<!--begin::Content-->
	<div id="kt_account_settings_profile_details" class="collapse show">
		<!--begin::Form-->
		<form id="kt_account_profile_details_form" class="form fv-plugins-bootstrap5 fv-plugins-framework" asp-controller="BasicInfo" asp-action="CreateVessel" method="post">
			<!--begin::Card body-->
			<div class="card-body border-top p-9">
				<!--begin::Input group-->
				<div class="row mb-6">
					<!--begin::Col-->
					<div class="col-lg-5">
						<div class="input-group input-group-solid mb-5">
							<span class="input-group-text required">Vessel Name</span>
							<input type="text" asp-for="Vessel.Name" maxlength="100" class="form-control form-control-lg form-control-solid mb-3 mb-lg-0 hasMaxlength">
						</div>
					</div>
					<!--end::Col-->
					<!--begin::Col-->
					<div class="col-lg-3">
						<!--begin::Col-->
						<div class="fv-row input-group input-group-solid mb-5">
							<select asp-for="Vessel.VesselTypeId" class="form-control required" data-control="select2" data-placeholder="Select a vessel type..." data-val="true" data-val-required="the vessel type is required.">
								<option value="">Select a vessel type...</option>
								@foreach (var vesselType in Model.VesselTypes)
								{
									<option value="@vesselType.Id">@vesselType.Name</option>
								}
							</select>
						</div>
						<!--end::Col-->
					</div>
					<!--end::Col-->
					<!--begin::Col-->
					<div class="col-lg-4">
						<div class="input-group input-group-solid mb-5">
							<span class="input-group-text required">Gross Tonage</span>
							<input type="number" asp-for="Vessel.GrossTonage" class="form-control" aria-label="GrossTonage" aria-describedby="basic-addon1" min="0"/>
							<span class="input-group-text">Ton</span>
						</div>
					</div>
					<!--end::Col-->
				</div>
				<!--end::Input group-->
				<!--begin::Input group-->
				<div class="row mb-6">
					<!--begin::Col-->
					<div class="col-lg-5">
						<div class="input-group input-group-solid flex-nowrap">
							<span class="input-group-text">Nationality</span>
							<div class="fv-row fv-plugins-icon-container overflow-hidden flex-grow-1">
								<select asp-for="Vessel.NationalityId" id="kt_docs_select2_country" class="form-select form-select-solid rounded-start-0 border-start" data-control="select2" data-placeholder="Select Vessel Nationality...">
									<option value="">Select a country...</option>
									@foreach (var country in Model.Countries)
									{
										<option value="@country.Id" data-kt-select2-country="../assets/media/flags/@country.FlagName">@country.Name</option>
									}
								</select>
							</div>
                        </div>
                    </div>
					<!--end::Col-->
					<!--begin::Col-->
					<div class="col-lg-3">
						<div class="input-group input-group-solid mb-5">
							<span class="input-group-text">Vessel Length</span>
							<input type="number" asp-for="Vessel.VesselLength" class="form-control form-control-lg form-control-solid mb-3 mb-lg-0" min="0">
							<span class="input-group-text">m</span>
						</div>
					</div>
					<!--end::Col-->
					<!--begin::Col-->
					<div class="col-lg-4">
						<div class="input-group input-group-solid mb-5">
							<span class="input-group-text">Bays Quantity</span>
							<input type="number" asp-for="Vessel.BaysQuantity" class="form-control form-control-lg form-control-solid mb-3 mb-lg-0" min="0">
							<span class="input-group-text">Qty</span>
						</div>
					</div>
					<!--end::Col-->
				</div>
				<!--end::Input group-->
				<!--begin::Input group-->
				<div class="row mb-6">
					<!--begin::Col-->
					<div class="col-lg-5">
						<div class="input-group input-group-solid flex-nowrap">
							<span class="input-group-text">Flag</span>
							<div class="fv-row fv-plugins-icon-container overflow-hidden flex-grow-1">
								<select asp-for="Vessel.FlagId" id="kt_docs_select2_flag" class="form-select form-select-lg form-select-solid rounded-start-0 border-start" data-control="select2" data-placeholder="Select Vessel Flag...">
									<option value="">Select a country...</option>
									@foreach (var country in Model.Countries)
									{
										<option value="@country.Id" data-kt-select2-country="../assets/media/flags/@country.FlagName">@country.Name</option>
									}
								</select>
							</div>
						</div>
					</div>
					<!--end::Col-->
					<!--begin::Col-->
					<div class="col-lg-3">
						<div class="input-group input-group-solid mb-5">
							<span class="input-group-text">Vessel Width</span>
							<input type="number" asp-for="Vessel.VesselWidth" class="form-control form-control-lg form-control-solid mb-3 mb-lg-0" min="0">
							<span class="input-group-text">m</span>
						</div>
					</div>
					<!--end::Col-->
					<!--begin::Col-->
					<div class="col-lg-4">
						<div class="input-group input-group-solid mb-5">
							<span class="input-group-text">Active Crane</span>
							<input type="number" asp-for="Vessel.ActiveCraneQty" class="form-control form-control-lg form-control-solid mb-3 mb-lg-0" min="0">
							<span class="input-group-text">Qty</span>
						</div>
					</div>
					<!--end::Col-->
				</div>
				<!--end::Input group-->
				<!--begin::Input group-->
				<div class="row mb-6">
					<!--begin::Col-->
					<div class="col-lg-5">
						<div class="input-group input-group-solid mb-5">
							<span class="input-group-text">Call Sign</span>
							<input type="text" asp-for="Vessel.CallSign" maxlength="20" class="form-control form-control-lg form-control-solid mb-3 mb-lg-0 hasMaxlength">
						</div>
					</div>
					<!--end::Col-->
				</div>
				<!--end::Input group-->
			</div>
			<!--end::Card body-->
			<div asp-validation-summary="All" class="text-danger"></div>
			<!--begin::Actions-->
			<div class="card-footer d-flex justify-content-end py-6 px-9">
				<a href="/BasicInfo/List" class="btn btn-light btn-active-light-primary me-2">Back</a>
				<button type="reset" class="btn btn-light btn-active-light-primary me-2">Discard</button>
				<button type="submit" class="btn btn-primary" id="kt_account_profile_details_submit">Save Changes</button>
			</div>
			<!--end::Actions-->
			<input type="hidden">
		</form>
		<!--end::Form-->
	</div>
	<!--end::Content-->
</div>


@section Links{
     <link href="~/assets/plugins/custom/datatables/datatables.bundle.css" rel="stylesheet" />
}

@section Scripts{
	<script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
	<script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
	<script type="text/javascript">
		// Format options
		var optionFormat = function (item) {
			if (!item.id) {
				return item.text;
			}

			var span = document.createElement('span');
			var imgUrl = item.element.getAttribute('data-kt-select2-country');
			var template = '';

			template += '<img src="' + imgUrl + '" class="rounded-circle h-20px me-2" alt="image"/>';
			template += item.text;

			span.innerHTML = template;

			return $(span);
		}

		$('button[type="reset"]').click(function(){
			$('select').val(null).trigger("change");
		});
		$('.hasMaxlength').maxlength({
			warningClass: "badge badge-warning",
			limitReachedClass: "badge badge-danger"
		});

		$(document).ready(function () {
			$('#kt_docs_select2_country,#kt_docs_select2_flag').select2({
				templateSelection: optionFormat,
				templateResult: optionFormat
			});
		})
	</script>
}